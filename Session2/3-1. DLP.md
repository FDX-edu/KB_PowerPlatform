# 3-1. DLP 소개

## 보안 - DLP(데이터 손실 방지) 정책

<img width="600" src="https://github.com/user-attachments/assets/e8b83515-fb4b-4423-9784-01d82e550d4b" />

설정의 **보안 탭 - 데이터 및 개인정보 보호 - 데이터 정책**에서 DLP를 설정할 수 있습니다.  


### ① 개요
DLP 정책은 Power Platform 내에서 **데이터의 흐름을 제어하기 위한 보안 정책**입니다.  
특히 사용자들이 앱이나 흐름을 만들 때, **민감한 데이터가 외부 시스템으로 유출되지 않도록 제어**하는 것이 핵심 목적입니다.  
Power Platform은 수백 개의 커넥터들을 통해 외부의 시스템과 연결되는데, DLP 정책은 이 커넥터를 그룹으로 나누고 그룹 간의 데이터 전송을 금지함으로써 통제를 수행합니다.


### ② 그룹

<img width="500" alt="image" src="https://github.com/user-attachments/assets/fb2c4901-7ed6-49d7-be74-56359d0e31a5" />

DLP 정책에서 커넥터의 그룹은 크게 세 가지로 나뉩니다.  
**비즈니스 그룹** - 조직 내부의 시스템, 민감한 데이터를 사용하는 커넥터의 그룹  
**비업무 그룹** - 일반적인 커넥터들의 그룹  
**차단됨** - 사용을 금지한 커넥터의 그룹  
**비즈니스 그룹 내의 커넥터와 비업무 그룹 내의 커넥터는 서로 데이터를 주고받을 수 없습니다.**


### ③ 데이터 정책 생성 프로세스

DLP 정책은 크게 테넌트 수준 정책과 환경 수준 정책 두 가지로 분류합니다.  
테넌트 수준 정책은 DLP 정책을 특정 환경에만 적용되게 하거나 제외하도록 정의할 수 있습니다.  
환경 수준 정책은 하나의 환경 내에만 적용됩니다. 환경 관리자 권한이 부여되어 있다면 설정할 수 있습니다.  
</br>
<img width="300" alt="image" src="https://github.com/user-attachments/assets/f64c27f4-e7cc-49d3-967a-9612d22147f5" />

1) 데이터 정책의 이름을 설정합니다.  
2) 커넥터를 **그룹에 분류**합니다(비즈니스, 비업무, 차단). 필요하다면 기본 그룹 설정을 변경하여, 새로 추가되는 커넥터를 배정할 기본 그룹도 설정합니다(초기값: 비업무).  
3) (테넌트 수준의 정책 설정인 경우) 사용자 지정 커넥터 패턴을 정의합니다.  
4) (테넌트 수준의 정책 설정인 경우) **정책의 범위**를 설정합니다.  
5) DLP 정책을 적용할 환경을 선택합니다. 환경 수준 정책 설정인 경우 한 번에 하나의 환경에만 정책을 설정할 수 있습니다.  

  
### ④ 테넌트 수준의 정책 설정인 경우 정책의 범위  

<img width="500" alt="image" src="https://github.com/user-attachments/assets/6eb1a020-f428-4037-be7a-58c2d8fb67a4" />

- **모든 환경에 적용**: 테넌트 내부의 모든 환경에 적용되는 정책입니다.  
- **여러 환경에 적용**: 일부 환경에만 적용하는 정책입니다.  
- **특정하게 제외된 환경을 제외한 모든 환경에 적용**: 일부 환경을 제외하고 적용되는 정책입니다.  
이 옵션은 테넌트 관리자일 경우에만 설정할 수 있습니다.


### ⑤ 사용자 지정 커넥터

<img width="600" alt="image" src="https://github.com/user-attachments/assets/e1252a8f-b7fb-4a1e-9361-5db457a9825f" />

사용자 지정 커넥터는 기본 제공하는 커넥터가 아닌 **사용자가 직접 정의한 모듈**로, Power Platform이 외부 서비스나 사내 API등과 연결할 수 있도록 해줍니다.  
환경 수준 정책 설정의 경우 사용자 지정 커넥터는 일반 사전 빌드된 커넥터를 설정할 때, 일반 커넥터를 설정하듯이 설정할 수 있습니다.  
테넌트 수준 정책 설정의 경우 정책 생성 시에 사용자 지정 커넥터 설정이 따로 존재하며, 사용자 지정 커넥터에 대해 URL 패턴을 정의하여 분류할 수 있습니다.  
**이 경우 기존 세 가지(비즈니스, 비업무, 차단) 외에도 '무시' 옵션이 추가됩니다.** 이 옵션은 사용자 지정 커넥터의 분류를 보류하고 환경 수준 정책에서 설정하도록 합니다.  
값을 따로 지정하지 않으면 새 데이터 정책에서 기본값은 '무시' 입니다.


### ⑥ 커넥터 작업 제어

<img width="600" alt="image" src="https://github.com/user-attachments/assets/aabf2236-bbd8-4753-8ada-f20c05ae33fb" />

커넥터 작업 제어 기능을 이용하면, 사전 빌드된 커넥터 내의 개별 작업들을 **각각 허용하거나 차단**할 수 있습니다.  
또한, 향후 새로 추가될 작업에 대해서도 허용 또는 차단의 기본값을 설정할 수 있습니다.  
*(단, 일부 차단할 수 없는 커넥터와 사용자 지정 커넥터에 대해서는 설정할 수 없습니다)*


### ⑦ 데스크톱 흐름에 대한 데이터 손실 방지

데스크톱 흐름에 대해 DLP 정책을 설정하면, 다른 그룹의 클라우드 흐름이 데스크톱 흐름을 경유하여 결합되는 등의 문제를 해결할 수 있습니다.  

<img width="600" src="https://github.com/user-attachments/assets/6f8419a5-2154-41e6-a0f3-d97bcab86b3d" />

기본적으로 데스크톱 흐름 작업 그룹은 Admin Center의 DLP 정책 설정에서 표시되지 않습니다.  
테넌트 설정에서 **DLP의 데스크톱 흐름 작업**을 **사용함**으로 변경하면, DLP 정책 생성 및 편집 중에 데스크톱 흐름 그룹이 표시되어 사전 빌드된 커넥터처럼 그룹을 설정할 수 있습니다.  
단, 변수 등 거의 모든 흐름에서 사용되는 기본 모듈은 DLP 정책 내에서 관리할 수 없습니다.  


<details>
<summary>참고: 여러 데이터 정책</summary>

### 여러 데이터 정책 적용

둘 이상의 데이터 정책을 만들고 하나의 환경에 적용시킬 수도 있습니다. 이 경우 적용된 모든 정책을 참고하여 데이터 정책 위반 여부를 확인합니다.  
1. 하나의 정책에서 차단된 커넥터는 이 환경 내에서 적용할 수 없습니다.  
2. 비즈니스/비업무로 분류된 커넥터는 여러 정책에서 다르게 분류되는 결과가 발생할 수 있습니다. 이 경우 가능한 모든 분류의 조합을 계산하여 각각의 그룹으로 나눕니다.

결과적으로 커넥터 그룹이 파편화되고, 개별 그룹의 커넥터만 사용할 수 있습니다.
자세한 내용은 [공식 문서](https://learn.microsoft.com/ko-kr/power-platform/admin/dlp-combined-effect-multiple-policies)를 참고하세요.

</details>
