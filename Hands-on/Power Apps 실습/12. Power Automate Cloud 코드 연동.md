# 🎮 Power Apps → Power Automate : 사용자 정보 조회 자동화

## 📌 시나리오

Power Apps에서 **버튼을 누름과 동시에** 현재 설정한 검색 키워드를 기반으로 Power Automate 흐름을 호출하여, **검색 결과를 가져오는 프로세스**입니다.

---

## 🧩 구성

| 구성요소 | 설명 |
|----------|------|
| Power Apps | 버튼의 `OnSelect` 속성에서 흐름 실행 및 결과 변수 저장 |
| Power Automate | 네이버 API를 활용하여 특정 키워드의 뉴스 기사를 수집하고 요약 |
| Power Apps | 반환받은 정보를 화면에 표시 |

---

## 🔁 흐름 요약

```plaintext
[Power Apps]
    ↓
[흐름이름].Run(검색 키워드)
    ↓
[Power Automate]
    ↓
네이버 API 호출
    ↓
결과 반환
    ↓
[Power Apps]
    ↓
Set(변수) → 화면에 출력
```

# 📘 Power Apps → Power Automate 흐름 생성

---

## 1) Power Automate 흐름 생성
<img width="600" src="https://github.com/user-attachments/assets/aaa75100-6241-47fc-a034-cf3ce4b2741f" />

기존에 작성한 Power Automate의 '뉴스 요약' 흐름을 복사하여 생성하고, 일부를 변경하는 작업을 수행합니다.  


## 2) 트리거 변경 및 입력 변수 추가

<img width="600" src="https://github.com/user-attachments/assets/767b71bb-31b8-4b58-95ba-a345020b8e62" />

'수동으로 흐름 트리거'를 삭제한 뒤, 'Power Apps에서 흐름을 호출할 때' 트리거를 추가합니다.  
입력 매개 변수에 텍스트 형태로 '키워드'를 추가합니다.  

<img width="600" src="https://github.com/user-attachments/assets/554cce38-12a2-4cc1-8cd5-022f025c219c" />

'HTTP'의 쿼리를 '키워드'로 변경합니다.  


## 3) 프롬프트 실행 및 출력 구성

<img width="600" src="https://github.com/user-attachments/assets/56c31798-680b-4a7d-a1ba-fa81cc2ff205" />

'프롬프트 실행'과 '채팅 또는 채널에서 메시지 게시'를 제거합니다.  
'프롬프트 실행'을 다시 추가하고, 'Power App 또는 흐름의 응답'을 추가하여 '프롬프트 실행'의 Text를 전달합니다.


| Output 이름   | 표현식                                                                 |
|---------------|------------------------------------------------------------------------|
| Result        | AI Builder 결과                                                        |




# 🚀 Power Apps에서 Power Automate 흐름 호출하기

Power Apps 앱에서 버튼 클릭 시 Power Automate 흐름을 호출하여 검색 결과를 받아오고, 이를 화면에 표시하는 방법을 설명합니다.

---

## 📌 1. Power Automate 흐름 연결

Power Apps 앱에서 **버튼을 누름과 동시에 흐름을 실행**하려면, 해당 버튼의 `OnSelect` 속성에 다음과 같은 코드를 입력합니다.
<img width="700" src="https://github.com/user-attachments/assets/74ca0593-f762-4504-adf9-3a6664553d4f" />


```powerfx
Set(Result, 흐름이름.Run(TextInput1.text))
```
결과는 Result라는 전역 변수에 저장됩니다.


## 🖥️ 2. 결과를 라벨에 출력하기

Power Automate에서 받은 값을 Power Apps의 라벨(Label) 컨트롤에 다음과 같이 출력할 수 있습니다.  
<img width="700" src="https://github.com/user-attachments/assets/bcf7c41c-1360-4c7a-a78a-8c9c48d9a5a6" />


